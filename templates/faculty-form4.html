</script>
<script>
// Auto-fill Department, Portfolio Name, and Portfolio Member Name from localStorage
document.addEventListener('DOMContentLoaded', function() {
    let deptFromQuery = new URLSearchParams(window.location.search).get('department');
    if (deptFromQuery) {
        localStorage.setItem('selectedDepartment', deptFromQuery);
    }
    let dept = deptFromQuery || localStorage.getItem('selectedDepartment') || '';
    let deptFields = document.querySelectorAll("input[name='Department'], input[name='Department:'], select[name='Department'], select[name='Department:']");
    deptFields.forEach(function(field) {
        if (dept) field.value = dept;
        field.required = true;
        field.readOnly = false;
        field.disabled = false;
        if (field.tagName === 'SELECT') {
            field.dispatchEvent(new Event('change', { bubbles: true }));
        }
    });
    let portfolio = localStorage.getItem('selectedPortfolio') || new URLSearchParams(window.location.search).get('portfolio') || '';
    let portfolioFields = document.querySelectorAll("input[name='Portfolio Name'], input[name='Portfolio Name:']");
    portfolioFields.forEach(function(field) {
        if (portfolio) field.value = portfolio;
        field.required = true;
        field.readOnly = false;
        field.disabled = false;
    });
    let member = localStorage.getItem('selectedMemberName') || new URLSearchParams(window.location.search).get('name') || '';
    let memberFields = document.querySelectorAll("input[name='Portfolio Member Name'], input[name='Portfolio Memeber Name']");
    memberFields.forEach(function(field) {
        if (member) field.value = member;
        field.required = true;
        field.readOnly = false;
        field.disabled = false;
    });
    // On submit, forcibly set these values in the form data (never null)
    let form = document.querySelector('form');
    if (form) {
        form.addEventListener('submit', function(e) {
            deptFields.forEach(function(field) { if (!field.value) field.value = dept; });
            portfolioFields.forEach(function(field) { if (!field.value) field.value = portfolio; });
            memberFields.forEach(function(field) { if (!field.value) field.value = member; });
        });
    }
});
</script>
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PMC Tech Faculty - Form 4</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <!-- Header -->
    <header class="bg-purple-800 text-white flex justify-between items-center px-6 py-3 shadow-md">
        <div class="flex items-center">
            <img src="https://tse1.mm.bing.net/th/id/OIP.paY-ha-IpNQJrH2Lz_JZEgHaDG?w=2560&h=1070&rs=1&pid=ImgDetMain&o=7&rm=3"
                alt="PMC Logo" class="h-12 rounded shadow-md">
        </div>
    </header>
    <div class="form-container mx-auto max-w-6xl px-4">
        <!-- Main Form -->
        <main>
            <div class="faculty-form-outer">

                <!-- Direct DB Entry: form1-weekly (now replaces header and daily section) -->

                <section style="margin: 2rem 0;">
                    <h2 class="text-2xl font-bold text-center text-purple-800 tracking-wide mb-6">4. Course outcome &
                        Program Outcome Member: Weekly</h2>
                    <form id="directDbForm"
                        class="bg-white shadow-lg rounded-xl max-w-5xl mx-auto px-6 py-8 mb-10 border border-purple-200">
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                            <div class="flex flex-col">
                                <label for="db-dept" class="font-semibold text-gray-700 mb-1">Department:</label>
                                <select id="db-dept" name="Department" required
                                    class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2">
                                    <option value="" disabled selected>Select</option>
                                    <option value="AERO">AERO</option>
                                    <option value="AIDS">AIDS</option>
                                    <option value="AIML">AIML</option>
                                    <option value="CHEM">CHEM</option>
                                    <option value="CIVIL">CIVIL</option>
                                    <option value="CSBS">CSBS</option>
                                    <option value="CSE">CSE</option>
                                    <option value="ECE">ECE</option>
                                    <option value="EEE">EEE</option>
                                    <option value="IT">IT</option>
                                    <option value="MCO">MCO</option>
                                    <option value="MECH">MECH</option>
                                </select>
                            </div>
                            <div class="flex flex-col">
                                <label for="db-portfolio" class="font-semibold text-gray-700 mb-1">Portfolio
                                    Name:</label>
                                <input id="db-portfolio" name="Portfolio Name" required
                                    class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                            </div>
                            <div class="flex flex-col">
                                <label for="db-member" class="font-semibold text-gray-700 mb-1">Portfolio Memeber
                                    Name:</label>
                                <input id="db-member" name="Portfolio Memeber Name"
                                    class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                            </div>
                            <div class="flex flex-col">
                                <label for="db-month" class="font-semibold text-gray-700 mb-1">Month:</label>
                                <select id="db-month" name="Month" required
                                    class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2">
                                    <option value="" disabled selected>Select</option>
                                    <option value="January">January</option>
                                    <option value="February">February</option>
                                    <option value="March">March</option>
                                    <option value="April">April</option>
                                    <option value="May">May</option>
                                    <option value="June">June</option>
                                    <option value="July">July</option>
                                    <option value="August">August</option>
                                    <option value="September">September</option>
                                    <option value="October">October</option>
                                    <option value="November">November</option>
                                    <option value="December">December</option>
                                </select>
                            </div>
                            <div class="flex flex-col">
                                <label for="db-weekno" class="font-semibold text-gray-700 mb-1">Week no:</label>
                                <input id="db-weekno" name="Week no" type="number"
                                    class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                            </div>
                            <div class="flex flex-col">
                                <label for="db-weekstart" class="font-semibold text-gray-700 mb-1">Week Starting
                                    Date:</label>
                                <input id="db-weekstart" name="Week Starting Date" type="date"
                                    class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                            </div>
                            <div class="flex flex-col">
                                <label for="db-weekend" class="font-semibold text-gray-700 mb-1">Week Ending
                                    Date:</label>
                                <input id="db-weekend" name="Week Ending Date" type="date"
                                    class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                            </div>
                        </div>
                        <div class="w-full border-t border-gray-200 my-6"></div>
                        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                            <div
                                class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                1. Slip Test File</div>
                            <div class="flex flex-col">
                                <label for="db-status1" class="font-semibold text-gray-700 mb-1">Status_1:</label>
                                <select id="db-status1" name="Status_1"
                                    class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                    <option value="" disabled selected>Select</option>
                                    <option>Completed and Updated</option>
                                    <option>Yet to be Completed</option>
                                    <option>Under Process</option>
                                    <option>Not Applicable</option>
                                </select>
                            </div>
                            <div class="flex flex-col">
                                <label for="db-desc1" class="font-semibold text-gray-700 mb-1">Description_1:</label>
                                <input id="db-desc1" name="Description_1"
                                    class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                            </div>
                            <div class="flex flex-col">
                                <label for="db-upload1" class="font-semibold text-gray-700 mb-1">Upload Scanned
                                    File_1:</label>
                                <div class="flex items-center gap-2 w-full">
                                    <label id="upload-btn-weekly-1"
                                        class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                        <span class="inline-flex items-center gap-1">Upload <img
                                                src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                class="inline-block align-middle" /></span>
                                        <input id="db-upload1" name="file1" type="file"
                                            class="ml-2 hidden" onchange="handleFileUpload('weekly-1', this)" />
                                    </label>
                                    <span id="upload-status-weekly-1" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                    <button type="button" id="cancel-btn-weekly-1" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('weekly-1')">✕ Cancel</button>
                                </div>
                            </div>
                        </div>
                        <div class="w-full border-t border-gray-200 my-6"></div>
                        <button type="submit"
                            class="mt-8 bg-purple-800 hover:from-purple-400 hover:to-orange-500 text-white font-bold py-3 px-10 rounded-xl shadow-lg text-lg tracking-wide transition-all duration-200 mx-auto block">Submit</button>
                    </form>
                    <!-- Direct DB Entry: form4-once in a month -->
                    <section style="margin: 2rem 0;">
                        <h2 class="text-2xl font-bold text-center text-purple-800 tracking-wide mb-6">4. Course outcome
                            & Program Outcome Member: Once in a Month</h2>
                        <form id="onceMonthForm4"
                            class="bg-white shadow-lg rounded-xl max-w-5xl mx-auto px-6 py-8 mb-10 border border-purple-200">
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                                <div class="flex flex-col">
                                    <label for="om-dept4" class="font-semibold text-gray-700 mb-1">Department:</label>
                                    <select id="om-dept4" name="Department" required
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option value="AERO">AERO</option>
                                        <option value="AIDS">AIDS</option>
                                        <option value="AIML">AIML</option>
                                        <option value="CHEM">CHEM</option>
                                        <option value="CIVIL">CIVIL</option>
                                        <option value="CSBS">CSBS</option>
                                        <option value="CSE">CSE</option>
                                        <option value="ECE">ECE</option>
                                        <option value="EEE">EEE</option>
                                        <option value="IT">IT</option>
                                        <option value="MCO">MCO</option>
                                        <option value="MECH">MECH</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label for="om-portfolio4" class="font-semibold text-gray-700 mb-1">Portfolio
                                        Name:</label>
                                    <input id="om-portfolio4" name="Portfolio Name" required
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label for="om-member4" class="font-semibold text-gray-700 mb-1">Portfolio Memeber
                                        Name:</label>
                                    <input id="om-member4" name="Portfolio Memeber Name"
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label for="om-month4" class="font-semibold text-gray-700 mb-1">Month:</label>
                                    <select id="om-month4" name="Month" required
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option value="January">January</option>
                                        <option value="February">February</option>
                                        <option value="March">March</option>
                                        <option value="April">April</option>
                                        <option value="May">May</option>
                                        <option value="June">June</option>
                                        <option value="July">July</option>
                                        <option value="August">August</option>
                                        <option value="September">September</option>
                                        <option value="October">October</option>
                                        <option value="November">November</option>
                                        <option value="December">December</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label for="om-weekno4" class="font-semibold text-gray-700 mb-1">Week no:</label>
                                    <input id="om-weekno4" name="Week no" type="number"
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label for="om-weekstart4" class="font-semibold text-gray-700 mb-1">Week Starting
                                        Date:</label>
                                    <input id="om-weekstart4" name="Week Starting Date" type="date"
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label for="om-weekend4" class="font-semibold text-gray-700 mb-1">Week Ending
                                        Date:</label>
                                    <input id="om-weekend4" name="Week Ending Date" type="date"
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <!-- 8 status/desc/file blocks for once in a month form, labeled as per table schema -->
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    1. Exam TimeTable File</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_1:</label>
                                    <select name="Status_1"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_1:</label>
                                    <input name="Description_1"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_1:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-month-1"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file1" type="file" class="ml-2 hidden" onchange="handleFileUpload('month-1', this)" />
                                        </label>
                                        <span id="upload-status-month-1" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-month-1" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('month-1')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    2. Internal Exam Question Paper File With Answer Key</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_2:</label>
                                    <select name="Status_2"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_2:</label>
                                    <input name="Description_2"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_2:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-month-2"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file2" type="file" class="ml-2 hidden" onchange="handleFileUpload('month-2', this)" />
                                        </label>
                                        <span id="upload-status-month-2" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-month-2" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('month-2')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    3. Result Analysis File </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_3:</label>
                                    <select name="Status_3"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_3:</label>
                                    <input name="Description_3"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_3:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-month-3"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file3" type="file" class="ml-2 hidden" onchange="handleFileUpload('month-3', this)" />
                                        </label>
                                        <span id="upload-status-month-3" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-month-3" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('month-3')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    4. Question Bank</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_4:</label>
                                    <select name="Status_4"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_4:</label>
                                    <input name="Description_4"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_4:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-month-4"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file4" type="file" class="ml-2 hidden" onchange="handleFileUpload('month-4', this)" />
                                        </label>
                                        <span id="upload-status-month-4" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-month-4" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('month-4')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    5. Slow Learner Couching File</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_5:</label>
                                    <select name="Status_5"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_5:</label>
                                    <input name="Description_5"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_5:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-month-5"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file5" type="file" class="ml-2 hidden" onchange="handleFileUpload('month-5', this)" />
                                        </label>
                                        <span id="upload-status-month-5" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-month-5" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('month-5')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    6. Action taken for Internal Test Failures File</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_6:</label>
                                    <select name="Status_6"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_6:</label>
                                    <input name="Description_6"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_6:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-month-6"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file6" type="file" class="ml-2 hidden" onchange="handleFileUpload('month-6', this)" />
                                        </label>
                                        <span id="upload-status-month-6" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-month-6" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('month-6')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    7. Result File</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_7:</label>
                                    <select name="Status_7"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_7:</label>
                                    <input name="Description_7"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_7:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-month-7"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file7" type="file" class="ml-2 hidden" onchange="handleFileUpload('month-7', this)" />
                                        </label>
                                        <span id="upload-status-month-7" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-month-7" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('month-7')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    8. ERP internal Mark Entry File</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_8:</label>
                                    <select name="Status_8"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_8:</label>
                                    <input name="Description_8"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_8:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-month-8"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file8" type="file" class="ml-2 hidden" onchange="handleFileUpload('month-8', this)" />
                                        </label>
                                        <span id="upload-status-month-8" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-month-8" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('month-8')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <button type="submit"
                                class="mt-8 bg-purple-800 hover:from-purple-400 hover:to-orange-500 text-white font-bold py-3 px-10 rounded-xl shadow-lg text-lg tracking-wide transition-all duration-200 mx-auto block">Submit</button>
                        </form>
                    </section>
                    <!-- Direct DB Entry: form3-once in a semester -->
                    <section style="margin: 2rem 0;">
                        <h2 class="text-2xl font-bold text-center text-purple-800 tracking-wide mb-6">4. Course outcome
                            & Program Outcome Member: Once in a Semester</h2>
                        <form id="semesterForm4"
                            class="bg-white shadow-lg rounded-xl max-w-5xl mx-auto px-6 py-8 mb-10 border border-purple-200">
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Department:</label>
                                    <select name="Department" required
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option value="AERO">AERO</option>
                                        <option value="AIDS">AIDS</option>
                                        <option value="AIML">AIML</option>
                                        <option value="CHEM">CHEM</option>
                                        <option value="CIVIL">CIVIL</option>
                                        <option value="CSBS">CSBS</option>
                                        <option value="CSE">CSE</option>
                                        <option value="ECE">ECE</option>
                                        <option value="EEE">EEE</option>
                                        <option value="IT">IT</option>
                                        <option value="MCO">MCO</option>
                                        <option value="MECH">MECH</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Portfolio Name:</label>
                                    <input name="Portfolio Name" required
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Portfolio Memeber Name:</label>
                                    <input name="Portfolio Memeber Name"
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Month:</label>
                                    <select name="Month" required
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option value="January">January</option>
                                        <option value="February">February</option>
                                        <option value="March">March</option>
                                        <option value="April">April</option>
                                        <option value="May">May</option>
                                        <option value="June">June</option>
                                        <option value="July">July</option>
                                        <option value="August">August</option>
                                        <option value="September">September</option>
                                        <option value="October">October</option>
                                        <option value="November">November</option>
                                        <option value="December">December</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Week no:</label>
                                    <input name="Week no" type="number"
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Week Starting Date:</label>
                                    <input name="Week Starting Date" type="date"
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Week Ending Date:</label>
                                    <input name="Week Ending Date" type="date"
                                        class="rounded-lg border border-gray-300 focus:border-purple-500 focus:ring-2 focus:ring-purple-200 px-3 py-2" />
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <!-- 8 status/desc/file blocks -->
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    1. Semester Result and Analysis File </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_1:</label>
                                    <select name="Status_1"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_1:</label>
                                    <input name="Description_1"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_1:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-semester-1"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file1" type="file" class="ml-2 hidden" onchange="handleFileUpload('semester-1', this)" />
                                        </label>
                                        <span id="upload-status-semester-1" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-semester-1" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('semester-1')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    2. Average Grade Point File</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_2:</label>
                                    <select name="Status_2"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_2:</label>
                                    <input name="Description_2"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_2:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-semester-2"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file2" type="file" class="ml-2 hidden" onchange="handleFileUpload('semester-2', this)" />
                                        </label>
                                        <span id="upload-status-semester-2" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-semester-2" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('semester-2')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    3. Success Rate with Backlog & without Backlog</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_3:</label>
                                    <select name="Status_3"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_3:</label>
                                    <input name="Description_3"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_3:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-semester-3"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file3" type="file" class="ml-2 hidden" onchange="handleFileUpload('semester-3', this)" />
                                        </label>
                                        <span id="upload-status-semester-3" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-semester-3" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('semester-3')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    4. Academic Performance in Second Year</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_4:</label>
                                    <select name="Status_4"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_4:</label>
                                    <input name="Description_4"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_4:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-semester-4"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file4" type="file" class="ml-2 hidden" onchange="handleFileUpload('semester-4', this)" />
                                        </label>
                                        <span id="upload-status-semester-4" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-semester-4" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('semester-4')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    5. Attainment of CO</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_5:</label>
                                    <select name="Status_5"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_5:</label>
                                    <input name="Description_5"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_5:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-semester-5"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file5" type="file" class="ml-2 hidden" onchange="handleFileUpload('semester-5', this)" />
                                        </label>
                                        <span id="upload-status-semester-5" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-semester-5" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('semester-5')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    6. Attainment of PO</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_6:</label>
                                    <select name="Status_6"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_6:</label>
                                    <input name="Description_6"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_6:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-semester-6"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file6" type="file" class="ml-2 hidden" onchange="handleFileUpload('semester-6', this)" />
                                        </label>
                                        <span id="upload-status-semester-6" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-semester-6" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('semester-6')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    7. Attainment of PSO</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_7:</label>
                                    <select name="Status_7"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_7:</label>
                                    <input name="Description_7"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_7:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-semester-7"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file7" type="file" class="ml-2 hidden" onchange="handleFileUpload('semester-7', this)" />
                                        </label>
                                        <span id="upload-status-semester-7" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-semester-7" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('semester-7')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <div class="w-full border-t border-gray-200 my-6"></div>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div
                                    class="col-span-1 sm:col-span-2 lg:col-span-4 bg-orange-400 text-white font-bold text-lg rounded-lg px-6 py-2 mb-2 shadow flex items-center">
                                    8. Mapping of CO & PO File</div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Status_8:</label>
                                    <select name="Status_8"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2">
                                        <option value="" disabled selected>Select</option>
                                        <option>Completed and Updated</option>
                                        <option>Yet to be Completed</option>
                                        <option>Under Process</option>
                                        <option>Not Applicable</option>
                                    </select>
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Description_8:</label>
                                    <input name="Description_8"
                                        class="rounded-lg border border-gray-300 focus:border-orange-500 focus:ring-2 focus:ring-orange-200 px-3 py-2" />
                                </div>
                                <div class="flex flex-col">
                                    <label class="font-semibold text-gray-700 mb-1">Upload The Scanned File_8:</label>
                                    <div class="flex items-center gap-2 w-full">
                                        <label id="upload-btn-semester-8"
                                            class="flex items-center gap-2 cursor-pointer bg-white hover:bg-gray-100 px-3 py-2 rounded-lg border border-gray-300 transition font-medium text-gray-700">
                                            <span class="inline-flex items-center gap-1">Upload <img
                                                    src="/static/img/upload.svg" alt="upload" height="20" width="24"
                                                    class="inline-block align-middle" /></span>
                                            <input name="file8" type="file" class="ml-2 hidden" onchange="handleFileUpload('semester-8', this)" />
                                        </label>
                                        <span id="upload-status-semester-8" class="text-green-600 font-medium hidden">✓ Uploaded</span>
                                        <button type="button" id="cancel-btn-semester-8" class="text-red-600 hover:text-red-800 font-medium hidden" onclick="cancelFileUpload('semester-8')">✕ Cancel</button>
                                    </div>
                                </div>
                            </div>
                            <button type="submit"
                                class="mt-8 bg-purple-800 hover:from-purple-400 hover:to-orange-500 text-white font-bold py-3 px-10 rounded-xl shadow-lg text-lg tracking-wide transition-all duration-200 mx-auto block">Submit</button>
                        </form>
                    </section>
                    <!-- Removed: 2. Class Advisor Form: Weekly -->
        </main>
        </section>

        <!-- NEW: Direct DB Entry: form2-once in a month -->
        <!-- Removed: 2. Class Advisor Form: Once in a Month -->
        <!-- NEW: Direct DB Entry: form2-weekly -->

        <!-- ONCE IN A MONTH Section -->

        <!-- ONCE IN A SEMESTER Section -->
        <!-- Removed: 2. Class Advisor Form: Once in a Semester -->
    </div>
    </main>

</body>

<script src="https://unpkg.com/@supabase/supabase-js"></script>
<script>
    // All logic after DOMContentLoaded and after Supabase script is loaded
    window.addEventListener('DOMContentLoaded', function () {
        // (moved year form logic below)
        if (window.supabase) {
            const supabaseClient = window.supabase.createClient(
                "https://cbhodgwaazmjszkujrti.supabase.co",
                "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNiaG9kZ3dhYXptanN6a3VqcnRpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU2NzY4NzEsImV4cCI6MjA3MTI1Mjg3MX0.sBRdfiWJJmZtLWsHCcNyxm1VcwkGwZWsIeeMlS49XTU"
            );
            // --- FACULTY FORM 1 - DAILY LOGIC ---
            const form1DailyForm = document.getElementById('directDbForm');
            if (form1DailyForm) {
                form1DailyForm.addEventListener('submit', async function (e) {
                    e.preventDefault();
                    const form = e.target;
                    async function uploadFileToStorage(file, path) {
                        if (!file) return null;
                        const bucket = 'form4-files';
                        const { data, error } = await supabaseClient.storage.from(bucket).upload(path, file, { upsert: true });
                        if (error) {
                            window.location.href = 'notification.html?status=error&msg=' + encodeURIComponent(error.message);
                            throw error;
                        }
                        const { data: publicUrlData, error: urlError } = supabaseClient.storage.from(bucket).getPublicUrl(path);
                        if (urlError) {
                            window.location.href = 'notification.html?status=error&msg=' + encodeURIComponent(urlError.message);
                            throw urlError;
                        }
                        return publicUrlData.publicUrl;
                    }

                    const file = form['file1']?.files?.[0] || null;
                    const ts = Date.now();
                    const filePath = file ? `file1/${ts}_${file.name}` : null;
                    let fileUrl = null;
                    try {
                        if (file) fileUrl = await uploadFileToStorage(file, filePath);
                    } catch (uploadErr) {
                        return;
                    }

                    const row = {
                        "Department": form["Department"].value,
                        "Portfolio Name": form["Portfolio Name"].value,
                        "Portfolio Memeber Name": form["Portfolio Memeber Name"].value,
                        "Month": form["Month"].value,
                        "Week no": form["Week no"].value ? parseInt(form["Week no"].value) : null,
                        "Week Starting Date": form["Week Starting Date"].value || null,
                        "Week Ending Date": form["Week Ending Date"].value || null,
                        "Status_1": form["Status_1"].value,
                        "Description_1": form["Description_1"].value,
                        "Upload Scanned File_1": fileUrl
                    };
                    const { data, error } = await supabaseClient
                        .from('form4-Weekly')
                        .insert([row]);
                    if (error) {
                        window.location.href = 'notification.html?status=error&msg=' + encodeURIComponent(error.message);
                    } else {
                        window.location.href = 'notification.html?status=success';
                        form.reset();
                    }
                });
            }
            // NEW: Once in a Month form4 logic
            const onceMonthForm4 = document.getElementById('onceMonthForm4');
            if (onceMonthForm4) {
                onceMonthForm4.addEventListener('submit', async function (e) {
                    e.preventDefault();
                    const form = e.target;
                    async function uploadFileToStorage(file, path) {
                        if (!file) return null;
                        const bucket = 'form4-files';
                        const { data, error } = await supabaseClient.storage.from(bucket).upload(path, file, { upsert: true });
                        if (error) {
                            window.location.href = 'notification.html?status=error&msg=' + encodeURIComponent(error.message);
                            throw error;
                        }
                        const { data: publicUrlData, error: urlError } = supabaseClient.storage.from(bucket).getPublicUrl(path);
                        if (urlError) {
                            window.location.href = 'notification.html?status=error&msg=' + encodeURIComponent(urlError.message);
                            throw urlError;
                        }
                        return publicUrlData.publicUrl;
                    }

                    const ts = Date.now();
                    let file1Url = null, file2Url = null, file3Url = null, file4Url = null, file5Url = null, file6Url = null, file7Url = null, file8Url = null;
                    try {
                        const file1 = form.querySelector("input[name='file1']")?.files?.[0] || null;
                        if (file1) file1Url = await uploadFileToStorage(file1, `file1/${ts}_${file1.name}`);
                        const file2 = form.querySelector("input[name='file2']")?.files?.[0] || null;
                        if (file2) file2Url = await uploadFileToStorage(file2, `file2/${ts}_${file2.name}`);
                        const file3 = form.querySelector("input[name='file3']")?.files?.[0] || null;
                        if (file3) file3Url = await uploadFileToStorage(file3, `file3/${ts}_${file3.name}`);
                        const file4 = form.querySelector("input[name='file4']")?.files?.[0] || null;
                        if (file4) file4Url = await uploadFileToStorage(file4, `file4/${ts}_${file4.name}`);
                        const file5 = form.querySelector("input[name='file5']")?.files?.[0] || null;
                        if (file5) file5Url = await uploadFileToStorage(file5, `file5/${ts}_${file5.name}`);
                        const file6 = form.querySelector("input[name='file6']")?.files?.[0] || null;
                        if (file6) file6Url = await uploadFileToStorage(file6, `file6/${ts}_${file6.name}`);
                        const file7 = form.querySelector("input[name='file7']")?.files?.[0] || null;
                        if (file7) file7Url = await uploadFileToStorage(file7, `file7/${ts}_${file7.name}`);
                        const file8 = form.querySelector("input[name='file8']")?.files?.[0] || null;
                        if (file8) file8Url = await uploadFileToStorage(file8, `file8/${ts}_${file8.name}`);
                    } catch (uploadErr) {
                        return;
                    }

                    const row = {
                        "Department": form["Department"].value,
                        "Portfolio Name": form["Portfolio Name"].value,
                        "Portfolio Memeber Name": form["Portfolio Memeber Name"].value,
                        "Month": form["Month"].value,
                        "Week no": form["Week no"].value ? parseInt(form["Week no"].value) : null,
                        "Week Starting Date": form["Week Starting Date"].value || null,
                        "Week Ending Date": form["Week Ending Date"].value || null,
                        "Status_1": form["Status_1"].value,
                        "Description_1": form["Description_1"].value,
                        "Upload The Scanned File_1": file1Url,
                        "Status_2": form["Status_2"].value,
                        "Description_2": form["Description_2"].value,
                        "Upload The Scanned File_2": file2Url,
                        "Status_3": form["Status_3"].value,
                        "Description_3": form["Description_3"].value,
                        "Upload The Scanned File_3": file3Url,
                        "Status_4": form["Status_4"].value,
                        "Description_4": form["Description_4"].value,
                        "Upload The Scanned File_4": file4Url,
                        "Status_5": form["Status_5"].value,
                        "Description_5": form["Description_5"].value,
                        "Upload The Scanned File_5": file5Url,
                        "Status_6": form["Status_6"].value,
                        "Description_6": form["Description_6"].value,
                        "Upload The Scanned File_6": file6Url,
                        "Status_7": form["Status_7"].value,
                        "Description_7": form["Description_7"].value,
                        "Upload The Scanned File_7": file7Url,
                        "Status_8": form["Status_8"].value,
                        "Description_8": form["Description_8"].value,
                        "Upload The Scanned File_8": file8Url
                    };
                    const { data, error } = await supabaseClient
                        .from('form4-once in a month')
                        .insert([row]);
                    if (error) {
                        window.location.href = 'notification.html?status=error&msg=' + encodeURIComponent(error.message);
                    } else {
                        window.location.href = 'notification.html?status=success';
                        form.reset();
                    }
                });
            }
            // NEW: Semester form logic
            const semesterDbForm = document.getElementById('semesterDbForm');
            // --- FACULTY FORM 4 - ONCE IN A SEMESTER LOGIC ---
            const semesterForm4 = document.getElementById('semesterForm4');
            if (semesterForm4) {
                semesterForm4.addEventListener('submit', async function (e) {
                    e.preventDefault();
                    const form = e.target;
                    async function uploadFileToStorage(file, path) {
                        if (!file) return null;
                        const bucket = 'form4-files';
                        const { data, error } = await supabaseClient.storage.from(bucket).upload(path, file, { upsert: true });
                        if (error) {
                            window.location.href = 'notification.html?status=error&msg=' + encodeURIComponent(error.message);
                            throw error;
                        }
                        const { data: publicUrlData, error: urlError } = supabaseClient.storage.from(bucket).getPublicUrl(path);
                        if (urlError) {
                            window.location.href = 'notification.html?status=error&msg=' + encodeURIComponent(urlError.message);
                            throw urlError;
                        }
                        return publicUrlData.publicUrl;
                    }
                    const ts = Date.now();
                    let file1Url = null, file2Url = null, file3Url = null, file4Url = null, file5Url = null, file6Url = null, file7Url = null, file8Url = null;
                    try {
                        const file1 = form.querySelector("input[name='file1']")?.files?.[0] || null;
                        if (file1) file1Url = await uploadFileToStorage(file1, `file1/${ts}_${file1.name}`);
                        const file2 = form.querySelector("input[name='file2']")?.files?.[0] || null;
                        if (file2) file2Url = await uploadFileToStorage(file2, `file2/${ts}_${file2.name}`);
                        const file3 = form.querySelector("input[name='file3']")?.files?.[0] || null;
                        if (file3) file3Url = await uploadFileToStorage(file3, `file3/${ts}_${file3.name}`);
                        const file4 = form.querySelector("input[name='file4']")?.files?.[0] || null;
                        if (file4) file4Url = await uploadFileToStorage(file4, `file4/${ts}_${file4.name}`);
                        const file5 = form.querySelector("input[name='file5']")?.files?.[0] || null;
                        if (file5) file5Url = await uploadFileToStorage(file5, `file5/${ts}_${file5.name}`);
                        const file6 = form.querySelector("input[name='file6']")?.files?.[0] || null;
                        if (file6) file6Url = await uploadFileToStorage(file6, `file6/${ts}_${file6.name}`);
                        const file7 = form.querySelector("input[name='file7']")?.files?.[0] || null;
                        if (file7) file7Url = await uploadFileToStorage(file7, `file7/${ts}_${file7.name}`);
                        const file8 = form.querySelector("input[name='file8']")?.files?.[0] || null;
                        if (file8) file8Url = await uploadFileToStorage(file8, `file8/${ts}_${file8.name}`);
                    } catch (uploadErr) {
                        return;
                    }
                    const row = {
                        "Department": form["Department"].value,
                        "Portfolio Name": form["Portfolio Name"].value,
                        "Portfolio Memeber Name": form["Portfolio Memeber Name"].value,
                        "Month": form["Month"].value,
                        "Week no": form["Week no"].value ? parseInt(form["Week no"].value) : null,
                        "Week Starting Date": form["Week Starting Date"].value || null,
                        "Week Ending Date": form["Week Ending Date"].value || null,
                        "Status_1": form["Status_1"].value,
                        "Description_1": form["Description_1"].value,
                        "Upload The Scanned File_1": file1Url,
                        "Status_2": form["Status_2"].value,
                        "Description_2": form["Description_2"].value,
                        "Upload The Scanned File_2": file2Url,
                        "Status_3": form["Status_3"].value,
                        "Description_3": form["Description_3"].value,
                        "Upload The Scanned File_3": file3Url,
                        "Status_4": form["Status_4"].value,
                        "Description_4": form["Description_4"].value,
                        "Upload The Scanned File_4": file4Url,
                        "Status_5": form["Status_5"].value,
                        "Description_5": form["Description_5"].value,
                        "Upload The Scanned File_5": file5Url,
                        "Status_6": form["Status_6"].value,
                        "Description_6": form["Description_6"].value,
                        "Upload The Scanned File_6": file6Url,
                        "Status_7": form["Status_7"].value,
                        "Description_7": form["Description_7"].value,
                        "Upload The Scanned File_7": file7Url,
                        "Status_8": form["Status_8"].value,
                        "Description_8": form["Description_8"].value,
                        "Upload The Scanned File_8": file8Url
                    };
                    const { data, error } = await supabaseClient
                        .from('form4-once in a semester')
                        .insert([row]);
                    if (error) {
                        window.location.href = 'notification.html?status=error&msg=' + encodeURIComponent(error.message);
                    } else {
                        window.location.href = 'notification.html?status=success';
                        form.reset();
                    }
                });
            }
        } else {
            console.error('Supabase script not loaded!');
        }
    });
</script>

</script>
<!-- Navigation Buttons -->
<div class="fixed bottom-6 right-6 flex gap-3 z-50">
    <button onclick="history.back()" aria-label="Back"
        class="bg-pmcPurple hover:bg-pmcPurpleDark text-white rounded-full shadow-lg p-3 flex items-center justify-center text-2xl transition">
        &#8592;
    </button>
    <button onclick="history.forward()" aria-label="Forward"
        class="bg-pmcPurple hover:bg-pmcPurpleDark text-white rounded-full shadow-lg p-3 flex items-center justify-center text-2xl transition">
        &#8594;
    </button>
</div>

<script>
// Prefill Department and Portfolio Name from localStorage for all relevant fields
window.addEventListener('DOMContentLoaded', function () {
    var dept = localStorage.getItem('selectedDept');
    var portfolio = localStorage.getItem('selectedPortfolio');
    // Weekly form
    var weeklyDept = document.querySelector('#directDbForm select[name="Department"]');
    var weeklyPortfolio = document.querySelector('#directDbForm input[name="Portfolio Name"]');
    if (dept && weeklyDept) {
        for (var i = 0; i < weeklyDept.options.length; i++) {
            if (weeklyDept.options[i].value === dept) {
                weeklyDept.selectedIndex = i;
                break;
            }
        }
    }
    if (portfolio && weeklyPortfolio) {
        weeklyPortfolio.value = portfolio;
    }
    // Once in a Month form
    var monthDept = document.getElementById('om-dept4');
    var monthPortfolio = document.getElementById('om-portfolio4');
    if (dept && monthDept) {
        for (var i = 0; i < monthDept.options.length; i++) {
            if (monthDept.options[i].value === dept) {
                monthDept.selectedIndex = i;
                break;
            }
        }
    }
    if (portfolio && monthPortfolio) {
        monthPortfolio.value = portfolio;
    }
    // Semester form
    var semDept = document.querySelector('#semesterForm4 select[name="Department"]');
    var semPortfolio = document.querySelector('#semesterForm4 input[name="Portfolio Name"]');
    if (dept && semDept) {
        for (var i = 0; i < semDept.options.length; i++) {
            if (semDept.options[i].value === dept) {
                semDept.selectedIndex = i;
                break;
            }
        }
    }
    if (portfolio && semPortfolio) {
        semPortfolio.value = portfolio;
    }
});

// File upload handling functions
function handleFileUpload(sectionId, fileInput) {
    const uploadBtn = document.getElementById(`upload-btn-${sectionId}`);
    const uploadStatus = document.getElementById(`upload-status-${sectionId}`);
    const cancelBtn = document.getElementById(`cancel-btn-${sectionId}`);
    
    if (fileInput.files.length > 0) {
        uploadBtn.style.display = 'none';
        uploadStatus.style.display = 'inline';
        cancelBtn.style.display = 'inline';
    }
}

function cancelFileUpload(sectionId) {
    const uploadBtn = document.getElementById(`upload-btn-${sectionId}`);
    const uploadStatus = document.getElementById(`upload-status-${sectionId}`);
    const cancelBtn = document.getElementById(`cancel-btn-${sectionId}`);
    const fileInput = uploadBtn.querySelector('input[type="file"]');
    
    // Clear the file input
    fileInput.value = '';
    
    // Reset the display
    uploadBtn.style.display = 'flex';
    uploadStatus.style.display = 'none';
    cancelBtn.style.display = 'none';
}
</script>
<script src="/javascript/faculty-form.js"></script>  <!-- Footer -->
  <footer class="text-center py-4 mt-8">
    <p class="text-gray-400 text-sm"> © All Rights Reserved <a href="https://pmctech.org" target="_blank" class="text-gray-400 hover:text-gray-600 underline">PMC TECH</a>, IV CSE 2022-2026.<br/> 
    </p>
  </footer>


</body>

</html>