<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Submission Status</title>
    <link rel="stylesheet" href="/css/faculty.css" />
    <style>
      body {
        background: #f8f9fa;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 100vh;
      }
      .notif-box {
        background: #fff;
        border-radius: 1.2rem;
        box-shadow: 0 4px 24px 0 rgba(90, 24, 154, 0.08);
        padding: 2.5rem 2rem;
        max-width: 400px;
        text-align: center;
      }
      .notif-success {
        color: #219653;
        font-size: 2rem;
      }
      .notif-error {
        color: #d90429;
        font-size: 2rem;
      }
      .notif-msg {
        margin-top: 1rem;
        font-size: 1.1rem;
        color: #333;
      }
      .notif-btn {
        margin-top: 2rem;
        background: linear-gradient(90deg, #5a189a, #9d4edd);
        color: #fff;
        padding: 0.7rem 2rem;
        border: none;
        border-radius: 0.7rem;
        font-size: 1.1rem;
        font-weight: 600;
        letter-spacing: 1px;
        box-shadow: 0 2px 8px 0 rgba(90, 24, 154, 0.1);
        transition: background 0.2s;
        cursor: pointer;
      }
    </style>
  </head>
  <body>
    <div class="notif-box">
      <div id="notifIcon"></div>
      <div id="notifMsg" class="notif-msg"></div>
      <button
        class="notif-btn"
        onclick="handleBackNavigation()"
      >
        Back
      </button>
    </div>
    <script>
      const params = new URLSearchParams(window.location.search);
      const status = params.get("status");
      const msg = params.get("msg");
      const notifIcon = document.getElementById("notifIcon");
      const notifMsg = document.getElementById("notifMsg");
      
      function handleBackNavigation() {
        // Get current email for redirect
        const email = localStorage.getItem('facultyEmail') || new URLSearchParams(window.location.search).get('email') || '';
        
        // Navigate directly to faculty-profile with cache-busting parameter
        window.location.href = `faculty-profile.html?email=${encodeURIComponent(email)}&refresh=${Date.now()}`;
      }
      
      if (status === "success") {
        notifIcon.innerHTML = '<span class="notif-success">✔️</span>';
        notifMsg.textContent = "Your submission was successful!";
      } else {
        notifIcon.innerHTML = '<span class="notif-error">❌</span>';
        notifMsg.textContent =
          "Submission failed." + (msg ? "\n" + decodeURIComponent(msg) : "");
      }
    </script>

  </body>
</html>
